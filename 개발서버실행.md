로컬에서 테스트하는 방법 알려드릴게요! 🚀

[1 tool called]

완벽합니다! `package.json`을 보니 이미 설정이 잘 되어있네요. 👍

## 🚀 로컬 개발 환경 실행 방법

### **방법 1: 터미널 2개 사용 (권장)**

#### 터미널 1️⃣: Firebase Emulator 실행

```bash
npm run emulators
```

**실행되는 것들:**

- 🔥 Firestore Emulator (포트 8081)
- 📦 Storage Emulator (포트 9199)
- 🔐 Auth Emulator (포트 9099)
- ⚡ Functions Emulator (포트 5001)
- 🌐 Hosting Emulator (포트 5000)
- 📊 Emulator UI (자동으로 브라우저 열림)

#### 터미널 2️⃣: Next.js 개발 서버 실행

```bash
npm run dev
```

**자동 설정되는 환경 변수:**

```bash
FIRESTORE_EMULATOR_HOST=127.0.0.1:8081
FIREBASE_STORAGE_EMULATOR_HOST=127.0.0.1:9199
NEXT_PUBLIC_FIRESTORE_EMULATOR_HOST=127.0.0.1:8081
NEXT_PUBLIC_AUTH_EMULATOR_HOST=127.0.0.1:9099
```

**접속:**

- 🌐 웹사이트: http://localhost:3000
- 📊 Emulator UI: http://localhost:4000 (자동으로 열림)

---

### **방법 2: 한 번에 실행 (선택 사항)**

`package.json`에 스크립트 추가하면 한 번에 실행 가능:

```json
"scripts": {
  "dev:all": "concurrently \"npm run emulators\" \"npm run dev\""
}
```

이렇게 하려면:

```bash
npm install -D concurrently
npm run dev:all
```

---

## 📋 실행 순서 (체크리스트)

### 1단계: 준비

```bash
# 프로젝트 디렉토리로 이동
cd C:\00.PROJECT\NEXTJS\logbase-website

# 의존성 설치 (처음 한 번만)
npm install
```

### 2단계: Emulator 실행 (터미널 1)

```bash
npm run emulators
```

✅ **다음 메시지가 나오면 성공:**

```
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Auth      │ 127.0.0.1:9099 │ http://127.0.0.1:4000/auth      │
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
│ Firestore │ 127.0.0.1:8081 │ http://127.0.0.1:4000/firestore │
│ Storage   │ 127.0.0.1:9199 │ http://127.0.0.1:4000/storage   │
│ Hosting   │ 127.0.0.1:5000 │ n/a                             │
└───────────┴────────────────┴─────────────────────────────────┘
```

### 3단계: Next.js 개발 서버 실행 (터미널 2)

```bash
npm run dev
```

✅ **다음 메시지가 나오면 성공:**

```
✔ Ready in 2.3s
○ Local:        http://localhost:3000
```

### 4단계: 브라우저에서 접속

- **웹사이트**: http://localhost:3000
- **Emulator UI**: http://localhost:4000

---

## 🔍 테스트 확인 사항

### Newsletter 기능 테스트

1. http://localhost:3000/newsletter 접속
2. 뉴스레터 목록 조회
3. Storage Emulator에 파일이 저장되는지 확인

### Blog/RSS 기능 테스트

1. http://localhost:3000/blog 접속
2. 글 작성 시 이미지 업로드
3. Storage Emulator에 `blog-images/` 폴더 확인

### Emulator UI에서 확인

- **Firestore**: http://localhost:4000/firestore
  - `rss_items` 컬렉션 확인
- **Storage**: http://localhost:4000/storage
  - `newsletters/` 폴더
  - `blog-images/` 폴더

---

## 🛑 종료 방법

### Emulator 종료

터미널 1에서 `Ctrl + C`

### Next.js 개발 서버 종료

터미널 2에서 `Ctrl + C`

---

## ⚠️ 주의사항

1. **반드시 Emulator를 먼저 실행**하고 개발 서버를 실행하세요!
2. `.env.local` 파일이 있어야 합니다 (Firebase Admin 인증 정보)
3. Emulator 데이터는 종료하면 사라집니다 (영구 저장 필요 시 `--export-on-exit` 옵션 사용)

테스트해보고 문제 있으면 알려주세요! 🚀
