"use strict";(()=>{var e={};e.id=3908,e.ids=[3908],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},3745:e=>{e.exports=import("firebase/app")},401:e=>{e.exports=import("firebase/auth")},1492:e=>{e.exports=import("firebase/firestore")},6249:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,a){return a in t?t[a]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,a)):"function"==typeof t&&"default"===a?t:void 0}}})},6983:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{config:()=>l,default:()=>d,routeModule:()=>c});var o=a(1802),s=a(7153),i=a(6249),n=a(8646),u=e([n]);n=(u.then?(await u)():u)[0];let d=(0,i.l)(n,"default"),l=(0,i.l)(n,"config"),c=new o.PagesAPIRouteModule({definition:{kind:s.x.PAGES_API,page:"/api/auth/login",pathname:"/api/auth/login",bundlePath:"",filename:""},userland:n});r()}catch(e){r(e)}})},4810:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{I:()=>c,db:()=>l,l:()=>d});var o=a(3745),s=a(1492),i=a(401),n=e([o,s,i]);[o,s,i]=n.then?(await n)():n;let u={apiKey:"AIzaSyA6kCmSqaBH5SUPb4PkHU1hwe0l5Ppqw2w",authDomain:"logbase-blog-83db6.firebaseapp.com",projectId:"logbase-blog-83db6",storageBucket:"logbase-blog-83db6.firebasestorage.app",messagingSenderId:"938632982963",appId:"1:938632982963:web:6159f776e4466bf74bdbc6"};if(!u.apiKey||!u.projectId)throw Error("Firebase 설정이 올바르지 않습니다. .env.local 파일에 NEXT_PUBLIC_FIREBASE_ 환경 변수를 확인해주세요.");let d=0===(0,o.getApps)().length?(0,o.initializeApp)(u):(0,o.getApps)()[0],l=(0,s.getFirestore)(d),c=(0,i.getAuth)(d);r()}catch(e){r(e)}})},8646:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>n});var o=a(401),s=a(4810),i=e([o,s]);async function n(e,t){if("POST"!==e.method)return t.status(405).json({error:"Method not allowed"});try{let{email:a,password:r}=e.body;if(!a||!r)return t.status(400).json({error:"이메일과 비밀번호를 입력해주세요."});let i=(await (0,o.signInWithEmailAndPassword)(s.I,a,r)).user;t.status(200).json({success:!0,user:{uid:i.uid,email:i.email,displayName:i.displayName,photoURL:i.photoURL},message:"로그인 성공!"})}catch(a){console.error("로그인 오류:",a);let e="로그인에 실패했습니다.";switch(a.code){case"auth/user-not-found":e="등록되지 않은 이메일입니다.";break;case"auth/wrong-password":e="비밀번호가 올바르지 않습니다.";break;case"auth/invalid-email":e="올바르지 않은 이메일 형식입니다.";break;case"auth/too-many-requests":e="너무 많은 로그인 시도가 있었습니다. 잠시 후 다시 시도해주세요.";break;case"auth/user-disabled":e="비활성화된 계정입니다.";break;case"auth/configuration-not-found":e="Firebase Authentication이 설정되지 않았습니다. 관리자에게 문의하세요.";break;default:e=`로그인 오류: ${a.message||a.code}`}t.status(400).json({success:!1,error:e})}}[o,s]=i.then?(await i)():i,r()}catch(e){r(e)}})},7153:(e,t)=>{var a;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return a}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(a||(a={}))},1802:(e,t,a)=>{e.exports=a(145)}};var t=require("../../../webpack-api-runtime.js");t.C(e);var a=t(t.s=6983);module.exports=a})();