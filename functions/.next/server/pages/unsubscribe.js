"use strict";(()=>{var e={};e.id=5785,e.ids=[5785,2888,660],e.modules={4974:(e,t,r)=>{r.a(e,async(e,i)=>{try{r.r(t),r.d(t,{config:()=>x,default:()=>u,getServerSideProps:()=>m,getStaticPaths:()=>g,getStaticProps:()=>p,reportWebVitals:()=>h,routeModule:()=>v,unstable_getServerProps:()=>y,unstable_getServerSideProps:()=>S,unstable_getStaticParams:()=>j,unstable_getStaticPaths:()=>f,unstable_getStaticProps:()=>b});var s=r(7093),a=r(5244),n=r(1323),o=r(1070),l=r(3893),d=r(6525),c=e([l]);l=(c.then?(await c)():c)[0];let u=(0,n.l)(d,"default"),p=(0,n.l)(d,"getStaticProps"),g=(0,n.l)(d,"getStaticPaths"),m=(0,n.l)(d,"getServerSideProps"),x=(0,n.l)(d,"config"),h=(0,n.l)(d,"reportWebVitals"),b=(0,n.l)(d,"unstable_getStaticProps"),f=(0,n.l)(d,"unstable_getStaticPaths"),j=(0,n.l)(d,"unstable_getStaticParams"),y=(0,n.l)(d,"unstable_getServerProps"),S=(0,n.l)(d,"unstable_getServerSideProps"),v=new s.PagesRouteModule({definition:{kind:a.x.PAGES,page:"/unsubscribe",pathname:"/unsubscribe",bundlePath:"",filename:""},components:{App:l.default,Document:o.default},userland:d});i()}catch(e){i(e)}})},4611:(e,t,r)=>{r.d(t,{j:()=>i});let i="Logbase"},1070:(e,t,r)=>{r.r(t),r.d(t,{default:()=>a});var i=r(997),s=r(6859);function a(){return(0,i.jsxs)(s.Html,{lang:"en",children:[(0,i.jsxs)(s.Head,{children:[i.jsx("link",{rel:"icon",href:"/images/favicon.svg"}),i.jsx("script",{type:"text/javascript",dangerouslySetInnerHTML:{__html:`
              (function(c,l,a,r,i,t,y){
                  c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
                  t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
                  y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
              })(window, document, "clarity", "script", "t25pdtaagd");
            `}})]}),(0,i.jsxs)("body",{children:[i.jsx(s.Main,{}),i.jsx(s.NextScript,{})]})]})}},6525:(e,t,r)=>{r.r(t),r.d(t,{default:()=>d});var i=r(997),s=r(6689),a=r(968),n=r.n(a),o=r(1163),l=r(4611);function d(){(0,o.useRouter)();let[e,t]=(0,s.useState)(""),[r,a]=(0,s.useState)(""),[d,c]=(0,s.useState)(!1),[u,p]=(0,s.useState)(!1),[g,m]=(0,s.useState)(""),[x,h]=(0,s.useState)(null),b=async()=>{if(!e||!r){m("필수 정보가 누락되었습니다.");return}c(!0),m("");try{let t=await fetch("/api/newsletter-subscriber-delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,token:r})}),i=await t.json();i.success?p(!0):m(i.error||"구독 취소에 실패했습니다.")}catch(e){m("구독 취소 중 오류가 발생했습니다.")}finally{c(!1)}},f=async()=>{if(!e||!r){m("필수 정보가 누락되었습니다.");return}c(!0),m("");try{let t=await fetch("/api/newsletter-subscriber-update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,token:r,status:"active"})}),i=await t.json();i.success?(p(!1),h({...x,status:"active"})):m(i.error||"재구독에 실패했습니다.")}catch(e){m("재구독 중 오류가 발생했습니다.")}finally{c(!1)}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n(),{children:[i.jsx("title",{children:`뉴스레터 구독 취소 - ${l.j}`}),i.jsx("meta",{name:"description",content:"로그베이스 뉴스레터 구독 취소"}),i.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),i.jsx("link",{rel:"icon",href:"/images/favicon.svg"})]}),i.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(var(--gray-gradient)) no-repeat",backgroundSize:"100% 600px",padding:"2rem 1rem",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,i.jsxs)("div",{style:{maxWidth:"500px",width:"100%",background:"white",borderRadius:"15px",padding:"3rem 2rem",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1), 0 1px 3px rgba(0, 0, 0, 0.08)",border:"1px solid #e2e8f0",textAlign:"center"},children:[(0,i.jsxs)("div",{style:{marginBottom:"2rem"},children:[i.jsx("h1",{style:{fontSize:"2rem",fontWeight:"700",color:"#1a202c",marginBottom:"1rem"},children:"뉴스레터 구독 관리"}),i.jsx("p",{style:{fontSize:"1rem",color:"#4a5568",lineHeight:"1.6"},children:"로그베이스 뉴스레터 구독을 관리하세요"})]}),x&&(0,i.jsxs)("div",{style:{background:"#f7fafc",padding:"1.5rem",borderRadius:"8px",marginBottom:"2rem",border:"1px solid #e2e8f0"},children:[i.jsx("h3",{style:{fontSize:"1.1rem",fontWeight:"600",color:"#2d3748",marginBottom:"1rem"},children:"구독자 정보"}),(0,i.jsxs)("div",{style:{textAlign:"left",fontSize:"0.9rem",color:"#4a5568",lineHeight:"1.6"},children:[(0,i.jsxs)("p",{children:[i.jsx("strong",{children:"이메일:"})," ",x.email]}),(0,i.jsxs)("p",{children:[i.jsx("strong",{children:"이름:"})," ",x.name||"미입력"]}),(0,i.jsxs)("p",{children:[i.jsx("strong",{children:"소속:"})," ",x.organization||"미입력"]}),(0,i.jsxs)("p",{children:[i.jsx("strong",{children:"구독 상태:"}),i.jsx("span",{style:{color:"active"===x.status?"#38a169":"#e53e3e",fontWeight:"600"},children:"active"===x.status?"구독 중":"구독 취소됨"})]}),(0,i.jsxs)("p",{children:[i.jsx("strong",{children:"구독 시작일:"})," ",new Date(x.createdAt).toLocaleDateString("ko-KR")]})]})]}),g&&i.jsx("div",{style:{background:"#fed7d7",color:"#c53030",padding:"1rem",borderRadius:"8px",marginBottom:"1rem",fontSize:"0.9rem"},children:g}),u&&i.jsx("div",{style:{background:"#c6f6d5",color:"#2f855a",padding:"1rem",borderRadius:"8px",marginBottom:"1rem",fontSize:"0.9rem"},children:"뉴스레터 구독이 성공적으로 취소되었습니다."}),(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[x&&"active"===x.status?i.jsx("button",{onClick:b,disabled:d,style:{background:"#e53e3e",color:"white",border:"none",padding:"1rem 2rem",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:d?"not-allowed":"pointer",opacity:d?.6:1},"data-clarity-tag":"unsubscribe-cancel-subscription",children:d?"처리 중...":"구독 취소하기"}):x&&"inactive"===x.status?i.jsx("button",{onClick:f,disabled:d,style:{background:"#38a169",color:"white",border:"none",padding:"1rem 2rem",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:d?"not-allowed":"pointer",opacity:d?.6:1},"data-clarity-tag":"unsubscribe-resubscribe",children:d?"처리 중...":"다시 구독하기"}):null,i.jsx("a",{href:"/",style:{background:"#4a5568",color:"white",border:"none",padding:"1rem 2rem",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",textDecoration:"none",textAlign:"center"},"data-clarity-tag":"unsubscribe-back-to-home",children:"홈으로 돌아가기"})]}),i.jsx("div",{style:{marginTop:"2rem",padding:"1rem",background:"#f7fafc",borderRadius:"8px",fontSize:"0.9rem",color:"#4a5568",lineHeight:"1.6"},children:(0,i.jsxs)("p",{style:{margin:0},children:[i.jsx("strong",{children:"안내:"})," 구독을 취소하시면 더 이상 뉴스레터를 받으실 수 없습니다. 언제든지 다시 구독하실 수 있습니다."]})})]})})]})}},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},6162:e=>{e.exports=require("stream")},1568:e=>{e.exports=require("zlib")},3745:e=>{e.exports=import("firebase/app")},401:e=>{e.exports=import("firebase/auth")},1492:e=>{e.exports=import("firebase/firestore")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[117,1664,6859,8342,3893],()=>r(4974));module.exports=i})();